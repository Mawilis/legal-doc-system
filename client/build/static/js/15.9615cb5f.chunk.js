"use strict";(self.webpackChunklegal_doc_system_client=self.webpackChunklegal_doc_system_client||[]).push([[15],{7015:(e,n,r)=>{r.r(n),r.d(n,{default:()=>K});var l,i,a,s,o,c=r(7528),d=r(6195),t=r(6511),h=r(8355),m=r(4962),u=r(3204),x=r(1056),A=r(1906),j=r(9650),f=r(3336),p=r(1806),b=r(4882),g=r(8076),y=r(39),v=r(3460),k=r(1551),C=r(6446),w=r(5865),q=r(5795),I=r(7561),R=r(9190),S=r(7499),U=r(8988),_=r(3516),E=r(8900),N=r(899),Y=r(6320),F=r(5667);const W=t.Ay.div(l||(l=(0,c.A)(["\n  padding: 20px;\n  background-color: #f9f9f9;\n  min-height: 100vh;\n"]))),z=t.Ay.div(i||(i=(0,c.A)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n"]))),D=t.Ay.h1(a||(a=(0,c.A)(["\n  font-size: 2.5rem;\n  color: #333;\n"]))),G=(0,t.Ay)(A.A)(s||(s=(0,c.A)(["\n  && {\n    background-color: #007bff;\n    color: #fff;\n    border-radius: 5px;\n    transition: background-color 0.2s ease;\n\n    &:hover {\n      background-color: #0062cc;\n    }\n  }\n"]))),O=t.Ay.p(o||(o=(0,c.A)(["\n  color: #dc3545;\n  text-align: center;\n  font-size: 1.2rem;\n"]))),T={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4},K=()=>{const e=(0,h.wA)(),n=(0,x.Zp)(),{users:r,loading:l,error:i}=(0,h.d4)((e=>e.admin)),[a,s]=(0,d.useState)(!1),o=(0,d.useCallback)((()=>{e((0,m.Ym)())}),[e]);(0,d.useEffect)((()=>{o()}),[o]);const c=(0,d.useCallback)((e=>{n("/admin/users/edit/".concat(e.id),{state:{user:e}})}),[n]),t=(0,d.useCallback)((async n=>{if(window.confirm("Are you sure you want to delete this user?"))try{await e((0,m.hG)(n)).unwrap(),E.oR.success("User deleted successfully!")}catch(r){E.oR.error("Failed to delete user.")}}),[e]),K=()=>{s(!1)};if(l)return(0,F.jsx)(Y.A,{});if(i)return(0,F.jsx)(O,{children:i});const M=N.Ik().shape({name:N.Yj().required("Name is required"),email:N.Yj().email("Invalid email").required("Email is required"),role:N.Yj().required("Role is required")});return(0,F.jsxs)(W,{children:[(0,F.jsxs)(z,{children:[(0,F.jsx)(D,{children:"User Management"}),(0,F.jsx)(G,{variant:"contained",onClick:()=>{s(!0)},startIcon:(0,F.jsx)(u.OiG,{}),children:"Add User"})]}),(0,F.jsx)(j.A,{component:f.A,children:(0,F.jsxs)(p.A,{children:[(0,F.jsx)(b.A,{children:(0,F.jsxs)(g.A,{children:[(0,F.jsx)(y.A,{children:"ID"}),(0,F.jsx)(y.A,{children:"Name"}),(0,F.jsx)(y.A,{children:"Email"}),(0,F.jsx)(y.A,{children:"Role"}),(0,F.jsx)(y.A,{children:"Actions"})]})}),(0,F.jsx)(v.A,{children:r.map((e=>(0,F.jsxs)(g.A,{children:[(0,F.jsx)(y.A,{children:e.id}),(0,F.jsx)(y.A,{children:e.name}),(0,F.jsx)(y.A,{children:e.email}),(0,F.jsx)(y.A,{children:e.role}),(0,F.jsxs)(y.A,{children:[(0,F.jsx)(A.A,{variant:"outlined",color:"primary",onClick:()=>c(e),startIcon:(0,F.jsx)(u.uO9,{}),children:"Edit"}),(0,F.jsx)(A.A,{variant:"outlined",color:"error",onClick:()=>t(e.id),startIcon:(0,F.jsx)(u.qbC,{}),children:"Delete"})]})]},e.id)))})]})}),(0,F.jsx)(k.A,{open:a,onClose:K,children:(0,F.jsxs)(C.A,{sx:T,children:[(0,F.jsx)(w.A,{variant:"h6",component:"h2",children:"Add New User"}),(0,F.jsx)(_.l1,{initialValues:{name:"",email:"",role:""},validationSchema:M,onSubmit:async(n,r)=>{let{resetForm:l}=r;try{await e((0,m.kg)(n)).unwrap(),E.oR.success("User added successfully!"),l(),K()}catch(i){E.oR.error("Failed to add user.")}},children:e=>{let{values:n,handleChange:r,handleSubmit:l,errors:i,touched:a}=e;return(0,F.jsxs)("form",{onSubmit:l,children:[(0,F.jsx)(q.A,{label:"Name",name:"name",value:n.name,onChange:r,fullWidth:!0,margin:"normal",error:a.name&&!!i.name,helperText:a.name&&i.name}),(0,F.jsx)(q.A,{label:"Email",name:"email",value:n.email,onChange:r,fullWidth:!0,margin:"normal",error:a.email&&!!i.email,helperText:a.email&&i.email}),(0,F.jsxs)(I.A,{fullWidth:!0,margin:"normal",children:[(0,F.jsx)(R.A,{id:"role-label",children:"Role"}),(0,F.jsxs)(S.A,{labelId:"role-label",id:"role",name:"role",value:n.role,onChange:r,error:a.role&&!!i.role,children:[(0,F.jsx)(U.A,{value:"sheriff",children:"Sheriff"}),(0,F.jsx)(U.A,{value:"attorney",children:"Attorney"}),(0,F.jsx)(U.A,{value:"admin",children:"Admin"})]}),(0,F.jsx)(_.Kw,{name:"role",component:O})]}),(0,F.jsx)(A.A,{type:"submit",variant:"contained",color:"primary",children:"Add User"}),(0,F.jsx)(A.A,{onClick:K,variant:"outlined",color:"secondary",children:"Cancel"})]})}})]})})]})}}}]);
//# sourceMappingURL=15.9615cb5f.chunk.js.map