"use strict";(self.webpackChunklegal_doc_system_client=self.webpackChunklegal_doc_system_client||[]).push([[767],{467:(n,e,o)=>{o.r(e),o.d(e,{default:()=>D});var r=o(9379),t=o(7528),a=o(6195),i=o(1056),l=o(8355),s=o(9677),d=o(6511);const c=o.p+"static/media/legal-office.41483e97aaeb7685fd45.jpeg",g=o.p+"static/media/logo.9f2d0998ac5cffa85669.png";var p,u,m,b,h,x,f,y,w,A=o(1637),k=o(5667);const v=d.Ay.div(p||(p=(0,t.A)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  background: linear-gradient(\n      to bottom,\n      rgba(0, 0, 0, 0.5),\n      rgba(0, 0, 0, 0.8)\n    ),\n    url(",") no-repeat center center fixed;\n  background-size: cover;\n  padding: 20px;\n  box-sizing: border-box;\n"])),c),j=d.Ay.div(u||(u=(0,t.A)(["\n  width: 95%;\n  max-width: 500px;\n  padding: 40px;\n  border-radius: 10px;\n  background-color: rgba(255, 255, 255, 0.95);\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n"]))),z=d.Ay.img(m||(m=(0,t.A)(["\n  width: 120px;\n  height: 120px;\n  margin-bottom: 20px;\n  border-radius: 50%;\n  object-fit: cover;\n"]))),L=d.Ay.h1(b||(b=(0,t.A)(["\n  font-size: 2.2rem;\n  font-weight: 600;\n  color: #333;\n  margin-bottom: 10px;\n"]))),C=d.Ay.h2(h||(h=(0,t.A)(["\n  font-size: 1.6rem;\n  color: #555;\n  margin-bottom: 30px;\n  font-weight: 500;\n"]))),_=d.Ay.input(x||(x=(0,t.A)(["\n  width: 100%;\n  padding: 15px;\n  margin-bottom: 20px;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n  font-size: 1rem;\n  box-sizing: border-box;\n  transition: border-color 0.3s ease;\n\n  &:focus {\n    border-color: #007bff;\n    outline: none;\n    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n  }\n\n  &::placeholder {\n    color: #999;\n  }\n"]))),E=d.Ay.button(f||(f=(0,t.A)(["\n  width: 100%;\n  padding: 15px;\n  background-color: #007bff;\n  color: #fff;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  font-size: 1.2rem;\n  font-weight: 500;\n  transition: background-color 0.3s ease;\n\n  &:hover {\n    background-color: #0062cc;\n  }\n\n  &:disabled {\n    background-color: #a0a0a0;\n    cursor: not-allowed;\n  }\n"]))),S=d.Ay.p(y||(y=(0,t.A)(["\n  color: #dc3545;\n  margin-bottom: 20px;\n  font-size: 0.9rem;\n"]))),P=d.Ay.label(w||(w=(0,t.A)(["\n  font-size: 1rem;\n  color: #333;\n  margin-bottom: 5px;\n  display: block;\n  text-align: left;\n  width: 100%;\n  font-weight: 500;\n"]))),D=()=>{var n,e;const[o,t]=(0,a.useState)({email:"",password:""}),[d,c]=(0,a.useState)(null),{token:p,loading:u,error:m}=(0,l.d4)((n=>n.auth)),b=(0,l.wA)(),h=(0,i.Zp)(),x=(null===(n=(0,i.zy)().state)||void 0===n||null===(e=n.from)||void 0===e?void 0:e.pathname)||"/dashboard",f=(0,a.useCallback)((async n=>{n.preventDefault(),c(null),b((0,s.I0)()),console.log("Login attempt with credentials:",o);try{const n=await b((0,s.Lx)(o));n.payload.user||n.payload.success?(console.log("Login successful, navigating to:",x),h(x,{replace:!0})):(console.error("Login error:",n.error),c("Invalid credentials. Please try again."))}catch(e){console.error("Login error:",e),c("Login failed. Please check your credentials and network connection.")}}),[o,b,h,x]),y=(0,a.useCallback)((n=>{const{name:e,value:o}=n.target;t((n=>(0,r.A)((0,r.A)({},n),{},{[e]:o})))}),[]);return(0,a.useEffect)((()=>{let n;return console.log("Auth state changed:",{token:p,loading:u,authError:m,error:d}),!p||m||d||(console.log("Token detected. Redirecting to:",x),n=setTimeout((()=>{h(x,{replace:!0})}),100)),m||c(null),()=>clearTimeout(n)}),[p,h,x,m,u,d]),(0,k.jsx)(v,{children:(0,k.jsxs)(j,{children:[(0,k.jsx)(z,{src:g,alt:"Legal Doc System Logo"}),(0,k.jsx)(L,{children:"Welcome to the Legal Doc System"}),(0,k.jsx)(C,{children:"Please log in to continue"}),d&&(0,k.jsx)(S,{children:d}),(0,k.jsxs)("form",{onSubmit:f,children:[(0,k.jsx)(P,{htmlFor:"email",children:"Email"}),(0,k.jsx)(_,{type:"email",name:"email",id:"email",placeholder:"Enter your email",autoComplete:"email",value:o.email,onChange:y,required:!0}),(0,k.jsx)(P,{htmlFor:"password",children:"Password"}),(0,k.jsx)(_,{type:"password",name:"password",id:"password",placeholder:"Enter your password",autoComplete:"current-password",value:o.password,onChange:y,required:!0}),(0,k.jsx)(E,{type:"submit",disabled:u,children:u?(0,k.jsx)(A.A,{size:24,color:"inherit"}):"Login"})]})]})})}}}]);
//# sourceMappingURL=767.9f94294f.chunk.js.map